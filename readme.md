# Fileable Components

Components for Use in conjunction with the [Fileable CLI](https://github.com/johnhenry/fileable).
Note: It is generally unnecessary to install `fileable-components` -- it is included as a dependency of the command line tool. Template files, must inclued a reference to it when importing File, Folder, and Clear components.



## API -- Template

Fileable can render [functional components](https://reactjs.org/docs/components-and-props.html) built with the following components:

### Component: File

The File component represents a file.

```javascript
import {File} from 'fileable';
const template = ()=><File name='readme.md'>
# This is a sample file.
</File>
```

A file may have contain other files. Content will be concatinated.

```javascript
const template = ()=><File name='readme.md'>
    # This is a sample file.
    <File>## This is more content</File>
    <File>## As is this</File>
    ## This is the end
</File>
```

#### File Attribute: name

If a file is not the child of another file, this will be used as it's name.

```javascript
const template = ()=><File name="empty_file"/>;
```

If no name is passed, a hash of the content will be used.

By default, the algorithm used is SHA_256, but a number of algorithms are available.

```javascript
import {FILE_NAME_MD5, FILE_NAME_SHA_1, FILE_NAME_SHA_256, FILE_NAME_SHA_512, FILE_NAME_SHA_3} from 'fileable';
const template = ()=><File name={FILE_NAME_MD5}/>;
```

#### File Attribute: extension

Extension appended to name.
Particularly useful when name is autogenerated.

```javascript
const template = ()=><File extension='.js'>
...javascript content
</File>;
```

#### File Attribute: src

File content in src attribute will be appended to child content.

```javascript
const template = ()=><File src='https://www.google.com'>Google's Home Page:</File>;
```

If src location is a local file, it is treated as so relative to given template.

```javascript
const template = ()=><File src='./sibbling-of-template'/>;
```

#### File Attribute: cmd

Command will be run and content in src attribute will be appended to child content.

```javascript
const template = ()=><File cmd='date'>Content created at:</File>;
```

If cmd starts with '|', child content will be piped through command

```javascript
const template = ()=><File name='.cheesefile' cmd='|grep Cheese'>
Lines containing "Cheese:":
    - Feta Cheese
    - Broccoli
    - American Cheese
    - Ham
    - Bread
    - Cheesebread
</File>;
```

#### File Attribute: mode

Set the mode of a file.

```javascript
const template = ()=><File name='helloworld' mode={0o777}>
#!/usr/bin/env node
console.log('hello world');
</File>;
```

#### File Attribute: doctype

Add a doctype preamble the mode of a file.

```javascript
const template = ()=><File name='index.html' doctype='html'>
{`<html>
    <head></head>
    <body></body>
</html>`}
</File>;
```

#### File Attribute: transform

Command will be transformed via given function

```javascript

const addBeginning = (content)=>
`// Begin$
${content}`;

const template = ()=><File transform={addBeginning}>
// Middle
</File>;
```

#### File Attribute: ps

When used within other files, the ps attribute adds content to files after any transfomations from (cmd, transform) are applied.

```javascript

const addEnd = (content)=>
`${content}
// ^End`;

const template = ()=><File transform={addBeginning}>
    // Middle
    <File ps/>
    // Post End
    </File>
</File>;
```

#### File Attribute: content

...

```javascript
const template = ()=><File name='main.js' content='hello world'/>;
```


#### File Attribute: clone

When used within other files, the clone command takes the content of the file up to that point and clones it to another file.

```javascript
const template = ()=><File name='main.js'>
    Content
    <File clone />
</File>;
```

If a placeholder string is passed as the clone attribute, it will appear in place of that file within the parent.

```javascript
const template = ()=><File name='main.js'>
    Content
    <File clone='// filed cloned at hash' />
</File>;
```

Combine other attributes to create "sidecar" files

```javascript
const template = ()=><File src='../src/index.js' name='index.js' cmd='|./minify-file'>
    <File clone='//src-map: index.map.js' ps name='index.map.js' cmd='|./produce-file-map'></File>
</File>;
```

#### HTML Content

[React's HTML tags](https://react-cn.github.io/react/docs/tags-and-attributes.html) can be used to produce a file's content.

```javascript
const template = ()=> <File name="index.html">
    &lt;!doctype html&gt;
    <html>
        <Head />
        <body> Hello World
            <script src='index.js'></script>
        </body>
    </html>
</File>;
```
## API

### Table of contents
